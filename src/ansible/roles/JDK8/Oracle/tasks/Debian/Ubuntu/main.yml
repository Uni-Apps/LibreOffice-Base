# Generated by ChatGPT - prompt: "Can you write me an ansible playbook to install Oracle JDK version 8 on Ubuntu Linux?"

- name: install Oracle JDK PPA repostiory
  block:
  become: true
  - name: Add Oracle JDK PPA repository
    apt_repository:
      repo: 'ppa:webupd8team/java'
      state: present
    when: ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'xenial'

  - name: Update apt cache
    apt:
      update_cache: yes
    when: ansible_distribution == 'Ubuntu'

  - name: Accept Oracle JDK license
    debconf:
      name: 'oracle-java8-installer'
      question: 'shared/accepted-oracle-license-v1-1'
      value: 'true'
      vtype: 'select'
    when: ansible_distribution == 'Ubuntu'

  - name: Install Oracle JDK 8 package
    apt:
      name: 'oracle-java8-installer'
      state: present
    when: ansible_distribution == 'Ubuntu'

  - name: Set Java 8 as default
    shell: |
      update-java-alternatives --set java-8-oracle
    when: ansible_distribution == 'Ubuntu'

  - name: Verify Java version
    command: java -version
    register: java_version
    changed_when: false

  - name: Display Java version
    debug:
      var: java_version.stdout_lines